// Mansilla Claudio Matias - clau.mmatt@gmail.com

#include <stdio.h>
#include <stdlib.h>
#include "Menu.h"
#include "Color.h"
#include "Fecha.h"
#include "Marca.h"
#include "Trabajo.h"
#include "Servicio.h"
#include "Auto.h"

#define TAM_AUT 10
#define TAM_LAV 10
#define TAM_MAR 5
#define TAM_COL 5
#define TAM_SERV 4

int main(void) {
	setbuf(stdout, NULL);

	eMarca marcas[TAM_MAR]={
			{1000, "Renault"},
			{1001, "Ford"},
			{1002, "Fiat"},
			{1003, "Chevrolet"},
			{1004, "Peugeot"}
	};

	eColor colores[TAM_COL]={
			{5000, "Negro"},
			{5001, "Blanco"},
			{5002, "Rojo"},
			{5003, "Verde"},
			{5004, "Azul"}
	};

	eServicio servicios[TAM_SERV]={
			{20000, "Lavado", 450},
			{20001, "Pulido", 500},
			{20002, "Encerado", 600},
			{20003, "Completo", 900}
	};
   // ---- fin datos hardcodeados ----

	char opcion;
	int idInicialTrab = 0;

	eAuto hardAutos[TAM_AUT]= {
			{"AA420AR", 1000, 5000, 'm', 0},
			{"LQR085", 1001, 5001, 'a', 0},
			{"MYP499", 1002, 5002, 'm', 0},
			{"KSX685", 1003, 5003, 'a', 0},
			{"BJZ857", 1004, 5004, 'm', 0},
			{"FEZ271", 1000, 5000, 'a', 0},
			{"AE720AR", 1001, 5001, 'm', 0},
			{"AEA731", 1002, 5002, 'a', 0},
			{"GAY900", 1003, 5003, 'm', 0},
			{"CFK666", 1004, 5004, 'a', 0}
	};

	eAuto listaAutos[TAM_AUT];
	inicializarAutos(listaAutos, TAM_AUT);
	eTrabajo listaTrab[TAM_LAV];

	do
	{
		switch(menuPrincipal()){

		case 'A':
			altaAuto(listaAutos, TAM_AUT, marcas, TAM_MAR, colores, TAM_COL);
			break;

		case 'D': // printf("D. LISTAR AUTOS:\n");
			ordenarAutosMarcaCaja(hardAutos, TAM_AUT);
			break;

		case 'E': // printf("E. LISTAR MARCAS\n");
			listarMarcas(marcas, TAM_MAR);
			break;

		case 'F':  // printf("F. LISTAR COLORES\n");
			listarColores(colores, TAM_COL);
			break;

		case 'Z':  // printf("F. LISTAR COLORES\n");
			opcion = 's';
			break;


		}

	} while (opcion != 's');


	return EXIT_SUCCESS;
}
